{"version":3,"file":"index.mjs","mappings":"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","sources":["webpack://@electra/migrate/webpack/bootstrap","webpack://@electra/migrate/webpack/runtime/define property getters","webpack://@electra/migrate/webpack/runtime/hasOwnProperty shorthand","webpack://@electra/migrate/./src/Migration/AbstractMigration.ts","webpack://@electra/migrate/external module \"@electra/utility\"","webpack://@electra/migrate/external module \"chalk\"","webpack://@electra/migrate/./src/Utility/Log/Log.ts","webpack://@electra/migrate/./src/Migration/Column/AbstractColumn.ts","webpack://@electra/migrate/./src/Migration/Definition/Enum/IndexDefinitionTypeEnum.ts","webpack://@electra/migrate/./src/Migration/Column/ColumnTypeEnum.ts","webpack://@electra/migrate/./src/Migration/Definition/IndexDefinition.ts","webpack://@electra/migrate/./src/Migration/Definition/ColumnDefinition.ts","webpack://@electra/migrate/./src/Migration/Database/Enum/TableEncodingEnum.ts","webpack://@electra/migrate/./src/Migration/Database/Enum/TableCollationEnum.ts","webpack://@electra/migrate/./src/Migration/Column/Int/IntColumn.ts","webpack://@electra/migrate/./src/Migration/Column/Decimal/DecimalColumn.ts","webpack://@electra/migrate/./src/Migration/Column/String/StringColumn.ts","webpack://@electra/migrate/./src/Migration/Column/Date/DateColumn.ts","webpack://@electra/migrate/./src/Migration/Column/Time/TimeColumn.ts","webpack://@electra/migrate/./src/Migration/Column/DateTime/DateTimeColumn.ts","webpack://@electra/migrate/./src/Migration/Column/Blob/BlobColumn.ts","webpack://@electra/migrate/./src/Migration/Column/Enum/EnumColumn.ts","webpack://@electra/migrate/./src/Migration/Column/Double/DoubleColumn.ts","webpack://@electra/migrate/./src/Migration/Modification/RenameColumn/RenameColumnModification.ts","webpack://@electra/migrate/./src/Migration/Modification/DropColumn/DropColumnModification.ts","webpack://@electra/migrate/./src/Migration/Modification/AddIndex/AddIndexModification.ts","webpack://@electra/migrate/./src/Migration/Modification/DropIndex/DropIndexModification.ts","webpack://@electra/migrate/./src/Migration/Modification/DropTable/DropTableModification.ts","webpack://@electra/migrate/./src/Migration/Column/Blob/TinyBlobColumn.ts","webpack://@electra/migrate/./src/Migration/Column/Blob/MediumBlobColumn.ts","webpack://@electra/migrate/./src/Migration/Column/Blob/LongBlobColumn.ts","webpack://@electra/migrate/./src/Migration/Column/Int/SmallIntColumn.ts","webpack://@electra/migrate/./src/Migration/Column/Int/TinyIntColumn.ts","webpack://@electra/migrate/./src/Migration/Column/Int/MediumIntColumn.ts","webpack://@electra/migrate/./src/Migration/Column/Int/BigIntColumn.ts","webpack://@electra/migrate/./src/Migration/Column/Text/TextColumn.ts","webpack://@electra/migrate/./src/Migration/Column/Text/TinyTextColumn.ts","webpack://@electra/migrate/./src/Migration/Column/Text/MediumTextColumn.ts","webpack://@electra/migrate/./src/Migration/Column/Text/LongTextColumn.ts","webpack://@electra/migrate/./src/Migration/Database/Table.ts","webpack://@electra/migrate/./src/Migration/Database/Database.ts","webpack://@electra/migrate/./src/Migration/Database/MySql.ts"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","export class AbstractMigration {\n}\n","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nconst __WEBPACK_NAMESPACE_OBJECT__ = x({ [\"Validators\"]: () => __WEBPACK_EXTERNAL_MODULE__electra_utility_78eadf20__.Validators });","var x = y => { var x = {}; __webpack_require__.d(x, y); return x; }\nvar y = x => () => x\nconst __WEBPACK_NAMESPACE_OBJECT__ = x({ [\"default\"]: () => __WEBPACK_EXTERNAL_MODULE_chalk__[\"default\"] });","import chalk from \"chalk\";\nexport class Log {\n    static red(message) {\n        console.log(chalk.redBright(message));\n    }\n    static blue(message) {\n        console.log(chalk.blueBright(message));\n    }\n    static green(message) {\n        console.log(chalk.greenBright(message));\n    }\n    static yellow(message) {\n        console.log(chalk.yellowBright(message));\n    }\n}\n","import { Validators } from \"@electra/utility\";\nimport { Log } from \"../../Utility/Log/Log\";\nexport class AbstractColumn {\n    constructor(name) {\n        this.columnExists = false;\n        this.name = name;\n        const { valid, message } = this.validateColumnName(this.name);\n        if (!valid)\n            throw new TypeError(`Invalid ${this.constructor.name} name: ${message}`);\n    }\n    getIndexDefinition() {\n        return null;\n    }\n    getName() {\n        return this.name;\n    }\n    exists() {\n        return this.columnExists;\n    }\n    update() {\n        this.columnExists = true;\n        return this;\n    }\n    validateColumnName(name) {\n        return Validators\n            .all([\n            Validators.string(),\n            Validators.minLength(1),\n            Validators.regex(/^[a-zA-Z_][a-zA-Z0-9_]{0,63}$/, 'A-z, 0-9 and/or _')\n        ])\n            .validate(name);\n    }\n    validateOptions(options, schema) {\n        const { valid, message } = Validators.schema(schema).validate(options);\n        if (!valid) {\n            throw new TypeError(`Invalid ${this.constructor.name} options. ${message}`);\n        }\n        return true;\n    }\n    addNullableStatement(query, nullable) {\n        return nullable ? `${query} NULL` : `${query} NOT NULL`;\n    }\n    addDefaultStatement(query, defaultValue) {\n        return defaultValue !== undefined ? `${query} DEFAULT ${defaultValue}` : query;\n    }\n    addIndexStatement(query, index, columnName) {\n        return index ? `${query}, ADD INDEX (${columnName})` : query;\n    }\n    addUnsignedStatement(query, unsigned) {\n        return unsigned ? `${query} UNSIGNED` : query;\n    }\n    addZeroFillStatement(query, zeroFill) {\n        return zeroFill ? `${query} ZEROFILL` : query;\n    }\n    addAutoIncrementStatement(query, autoIncrement) {\n        return autoIncrement ? `${query} AUTO_INCREMENT` : query;\n    }\n    addPrimaryKeyStatement(query, primaryKey) {\n        return primaryKey ? `${query} PRIMARY KEY` : query;\n    }\n    addAfterStatement(query, addAfter, tableExists) {\n        // Log warning if createTable is true and addAfter is set\n        if (!tableExists && addAfter) {\n            Log.yellow(\"WARNING: addAfter option is ignored when creating a new table.\");\n        }\n        if (!tableExists)\n            return query;\n        if (addAfter) {\n            query += ` AFTER ${addAfter}`;\n        }\n        return query;\n    }\n}\n","export var IndexDefinitionTypeEnum;\n(function (IndexDefinitionTypeEnum) {\n    IndexDefinitionTypeEnum[\"INDEX\"] = \"INDEX\";\n    IndexDefinitionTypeEnum[\"UNIQUE\"] = \"UNIQUE\";\n    IndexDefinitionTypeEnum[\"FULLTEXT\"] = \"FULLTEXT\";\n})(IndexDefinitionTypeEnum || (IndexDefinitionTypeEnum = {}));\n","export var ColumnTypeEnum;\n(function (ColumnTypeEnum) {\n    // BLOB\n    ColumnTypeEnum[\"BLOB\"] = \"BLOB\";\n    ColumnTypeEnum[\"TINYBLOB\"] = \"TINYBLOB\";\n    ColumnTypeEnum[\"MEDIUMBLOB\"] = \"MEDIUMBLOB\";\n    ColumnTypeEnum[\"LONGBLOB\"] = \"LONGBLOB\";\n    // DATE\n    ColumnTypeEnum[\"DATE\"] = \"DATE\";\n    // DATETIME\n    ColumnTypeEnum[\"DATETIME\"] = \"DATETIME\";\n    // DECIMAL\n    ColumnTypeEnum[\"DECIMAL\"] = \"DECIMAL\";\n    ColumnTypeEnum[\"DOUBLE\"] = \"DOUBLE\";\n    // ENUM\n    ColumnTypeEnum[\"ENUM\"] = \"ENUM\";\n    // INT\n    ColumnTypeEnum[\"INT\"] = \"INT\";\n    ColumnTypeEnum[\"TINYINT\"] = \"TINYINT\";\n    ColumnTypeEnum[\"SMALLINT\"] = \"SMALLINT\";\n    ColumnTypeEnum[\"MEDIUMINT\"] = \"MEDIUMINT\";\n    ColumnTypeEnum[\"BIGINT\"] = \"BIGINT\";\n    // STRING\n    ColumnTypeEnum[\"CHAR\"] = \"CHAR\";\n    ColumnTypeEnum[\"VARCHAR\"] = \"VARCHAR\";\n    ColumnTypeEnum[\"TEXT\"] = \"TEXT\";\n    ColumnTypeEnum[\"TINYTEXT\"] = \"TINYTEXT\";\n    ColumnTypeEnum[\"MEDIUMTEXT\"] = \"MEDIUMTEXT\";\n    ColumnTypeEnum[\"LONGTEXT\"] = \"LONGTEXT\";\n    // TIME\n    ColumnTypeEnum[\"TIME\"] = \"TIME\";\n})(ColumnTypeEnum || (ColumnTypeEnum = {}));\n","import { IndexDefinitionTypeEnum } from \"./Enum/IndexDefinitionTypeEnum\";\nexport class IndexDefinition {\n    constructor() {\n        this.indexColumns = [];\n        this.indexType = IndexDefinitionTypeEnum.INDEX;\n        this.dropIndex = false;\n    }\n    static create() {\n        return new IndexDefinition();\n    }\n    isDrop() {\n        return this.dropIndex;\n    }\n    drop(drop = true) {\n        this.dropIndex = drop;\n        return this;\n    }\n    defaultName(name) {\n        this.defaultIndexName = name;\n        return this;\n    }\n    name(name) {\n        this.indexName = name;\n        return this;\n    }\n    columns(...columns) {\n        this.indexColumns.push(...columns);\n        return this;\n    }\n    type(type) {\n        this.indexType = type;\n        return this;\n    }\n    get() {\n        if (!this.isDrop() && !this.indexColumns.length)\n            throw new Error(\"No columns defined for index\");\n        const indexName = this.indexName || this.defaultIndexName;\n        if (!indexName && this.isDrop())\n            throw new Error(\"No index name defined for drop index\");\n        let indexDefinition = indexName && this.indexType === IndexDefinitionTypeEnum.UNIQUE ? `${this.indexType} INDEX` : this.indexType;\n        if (indexName)\n            indexDefinition += ` \\`${indexName}\\``;\n        if (!this.isDrop())\n            indexDefinition += ` (${this.indexColumns.map(column => `\\`${column}\\``).join(\", \")})`;\n        return indexDefinition;\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { ColumnTypeEnum } from \"../Column/ColumnTypeEnum\";\nexport class ColumnDefinition {\n    constructor(name, type) {\n        this.options = {\n            nullable: undefined,\n            default: undefined,\n            dropDefault: undefined,\n            unsigned: undefined,\n            autoIncrement: undefined,\n            zeroFill: undefined,\n            primaryKey: undefined,\n            after: undefined\n        };\n        this.existingOptions = {};\n        this.name = name;\n        this.type = type;\n    }\n    static create(name, type) {\n        return new ColumnDefinition(name, type);\n    }\n    nullable(nullable) {\n        this.options.nullable = nullable;\n        return this;\n    }\n    default(value) {\n        this.options.default = value;\n        return this;\n    }\n    dropDefault(dropDefault) {\n        this.options.dropDefault = dropDefault;\n        return this;\n    }\n    unsigned(unsigned) {\n        this.options.unsigned = unsigned;\n        return this;\n    }\n    autoIncrement(autoIncrement) {\n        this.options.autoIncrement = autoIncrement;\n        return this;\n    }\n    zeroFill(zerofill) {\n        this.options.zeroFill = zerofill;\n        return this;\n    }\n    primaryKey(primaryKey) {\n        this.options.primaryKey = primaryKey;\n        return this;\n    }\n    after(after) {\n        this.options.after = after;\n        return this;\n    }\n    get() {\n        let definition = `\\`${this.name}\\` ${this.type}`;\n        // Unsigned\n        const unsigned = typeof this.options.unsigned === \"boolean\" ? this.options.unsigned : this.existingOptions.unsigned;\n        if (unsigned === true)\n            definition += \" UNSIGNED\";\n        // Auto increment\n        const autoIncrement = typeof this.options.autoIncrement === \"boolean\" ? this.options.autoIncrement : this.existingOptions.autoIncrement;\n        if (autoIncrement === true)\n            definition += \" AUTO_INCREMENT\";\n        // Zero fill\n        const zeroFill = typeof this.options.zeroFill === \"boolean\" ? this.options.zeroFill : this.existingOptions.zeroFill;\n        if (zeroFill === true)\n            definition += \" ZEROFILL\";\n        // Nullable\n        const nullable = typeof this.options.nullable === \"boolean\" ? this.options.nullable : this.existingOptions.nullable;\n        definition += nullable === true ? \" NULL\" : \" NOT NULL\";\n        // Default\n        if (this.options.dropDefault !== true) {\n            const defaultValue = this.options.default !== undefined ? this.options.default : this.existingOptions.default;\n            if (defaultValue === null && nullable === true)\n                definition += \" DEFAULT NULL\";\n            else if (defaultValue != null)\n                definition += ` DEFAULT ${defaultValue}`;\n        }\n        // Primary key\n        const primaryKey = typeof this.options.primaryKey === \"boolean\" ? this.options.primaryKey : this.existingOptions.primaryKey;\n        if (primaryKey === true)\n            definition += \" PRIMARY KEY\";\n        // After\n        if (typeof this.options.after === \"string\")\n            definition += ` AFTER \\`${this.options.after}\\``;\n        return definition;\n    }\n    hydrateExistingOptions(connection, column, table) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const [result] = yield connection.query(`\n      SELECT\n        *\n      FROM\n        INFORMATION_SCHEMA.COLUMNS\n      WHERE\n        TABLE_NAME = '${table}'\n        AND COLUMN_NAME = '${column}';\n    `);\n            if (!result)\n                throw new Error(`Column \"${column}\" does not exist in table \"${table}\"`);\n            const numericColumnTypes = [\n                ColumnTypeEnum.DECIMAL,\n                ColumnTypeEnum.DOUBLE,\n                ColumnTypeEnum.INT,\n                ColumnTypeEnum.TINYINT,\n                ColumnTypeEnum.SMALLINT,\n                ColumnTypeEnum.MEDIUMINT,\n                ColumnTypeEnum.BIGINT,\n            ];\n            const isNumericColumnType = numericColumnTypes.includes(this.type);\n            this.existingType = result.COLUMN_TYPE.split(\" \").shift();\n            this.existingOptions.nullable = result.IS_NULLABLE === \"YES\";\n            this.existingOptions.default = result.COLUMN_DEFAULT === null && result.IS_NULLABLE === \"NO\"\n                ? undefined\n                : isNumericColumnType || result.COLUMN_DEFAULT == null ? result.COLUMN_DEFAULT : `'${result.COLUMN_DEFAULT}'`;\n            this.existingOptions.dropDefault = false;\n            this.existingOptions.unsigned = result.COLUMN_TYPE.includes(\"unsigned\");\n            this.existingOptions.autoIncrement = result.EXTRA.includes(\"auto_increment\");\n            this.existingOptions.zeroFill = result.COLUMN_TYPE.includes(\"zerofill\");\n            this.existingOptions.primaryKey = result.COLUMN_KEY === \"PRI\";\n        });\n    }\n}\n","export var TableEncodingEnum;\n(function (TableEncodingEnum) {\n    TableEncodingEnum[\"UTF8\"] = \"utf8\";\n    TableEncodingEnum[\"UTF8MB4\"] = \"utf8mb4\";\n})(TableEncodingEnum || (TableEncodingEnum = {}));\n","export var TableCollationEnum;\n(function (TableCollationEnum) {\n    TableCollationEnum[\"UTF8_GENERAL_CI\"] = \"utf8_general_ci\";\n    TableCollationEnum[\"UTF8MB4_GENERAL_CI\"] = \"utf8mb4_general_ci\";\n    TableCollationEnum[\"UTF8MB4_UNICODE_CI\"] = \"utf8mb4_unicode_ci\";\n})(TableCollationEnum || (TableCollationEnum = {}));\n","import { AbstractColumn } from \"../AbstractColumn\";\nimport { Validators } from \"@electra/utility\";\nimport { IndexDefinition } from \"../../Definition/IndexDefinition\";\nimport { ColumnDefinition } from \"../../Definition/ColumnDefinition\";\nimport { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nexport class IntColumn extends AbstractColumn {\n    constructor() {\n        super(...arguments);\n        this.options = {};\n        this.type = ColumnTypeEnum.INT;\n    }\n    nullable(nullable = true) {\n        const { valid, message } = Validators.boolean().validate(nullable);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to IntColumn.nullable: ${message}`);\n        this.options.nullable = nullable;\n        return this;\n    }\n    default(value) {\n        const { valid, message } = Validators.integer().validate(value);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to IntColumn.default: ${message}`);\n        this.options.default = value;\n        return this;\n    }\n    dropDefault() {\n        this.options.dropDefault = true;\n        return this;\n    }\n    unsigned(unsigned = true) {\n        const { valid, message } = Validators.boolean().validate(unsigned);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to IntColumn.unsigned: ${message}`);\n        this.options.unsigned = unsigned;\n        return this;\n    }\n    autoIncrement(autoIncrement = true) {\n        const { valid, message } = Validators.boolean().validate(autoIncrement);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to IntColumn.autoIncrement: ${message}`);\n        this.options.autoIncrement = autoIncrement;\n        return this;\n    }\n    zeroFill(zeroFill = true) {\n        const { valid, message } = Validators.boolean().validate(zeroFill);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to IntColumn.zeroFill: ${message}`);\n        this.options.zeroFill = zeroFill;\n        return this;\n    }\n    primaryKey(primaryKey = true) {\n        const { valid, message } = Validators.boolean().validate(primaryKey);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to IntColumn.primaryKey: ${message}`);\n        this.options.primaryKey = primaryKey;\n        return this;\n    }\n    index() {\n        this.options.index = true;\n        return this;\n    }\n    dropIndex() {\n        this.options.dropIndex = true;\n        return this;\n    }\n    after(columnName) {\n        const { valid, message } = this.validateColumnName(columnName);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to IntColumn.after: ${message}`);\n        this.options.after = columnName;\n        return this;\n    }\n    getColumnDefinition() {\n        if (!this.columnDefinition) {\n            this.columnDefinition = ColumnDefinition.create(this.name, this.type);\n        }\n        return this.columnDefinition\n            .nullable(this.options.nullable)\n            .default(this.options.default)\n            .dropDefault(this.options.dropDefault)\n            .unsigned(this.options.unsigned)\n            .autoIncrement(this.options.autoIncrement)\n            .zeroFill(this.options.zeroFill)\n            .primaryKey(this.options.primaryKey)\n            .after(this.options.after);\n    }\n    getIndexDefinition() {\n        if (\n        // No index and column doesn't exist yet\n        (!this.options.index && !this.exists())\n            // Not adding or dropping an index\n            || (!this.options.index && !this.options.dropIndex)) {\n            return null;\n        }\n        return IndexDefinition\n            .create()\n            .columns(this.name)\n            .drop(this.options.dropIndex === true);\n    }\n}\n","import { AbstractColumn } from \"../AbstractColumn\";\nimport { Validators } from \"@electra/utility\";\nimport { ColumnDefinition } from \"../../Definition/ColumnDefinition\";\nimport { IndexDefinition } from \"../../Definition/IndexDefinition\";\nimport { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nexport class DecimalColumn extends AbstractColumn {\n    constructor(name, precision = 8, scale = 2) {\n        super(name);\n        this.options = {};\n        this.precision = precision;\n        this.scale = scale;\n        const validator = Validators.integer();\n        const { valid: precisionValid, message: precisionMessage } = validator.validate(precision);\n        if (precisionValid === false) {\n            throw new TypeError(`Invalid precision value passed to DecimalColumn.constructor: ${precisionMessage}`);\n        }\n        const { valid: scaleValid, message: scaleMessage } = validator.validate(scale);\n        if (scaleValid === false) {\n            throw new TypeError(`Invalid scale value passed to DecimalColumn.constructor: ${scaleMessage}`);\n        }\n    }\n    nullable(nullable = true) {\n        const { valid, message } = Validators.boolean().validate(nullable);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to DecimalColumn.nullable: ${message}`);\n        this.options.nullable = nullable;\n        return this;\n    }\n    default(value) {\n        const { valid, message } = Validators.number().validate(value);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to DecimalColumn.default: ${message}`);\n        this.options.default = value;\n        return this;\n    }\n    dropDefault() {\n        this.options.dropDefault = true;\n        return this;\n    }\n    unsigned(unsigned = true) {\n        const { valid, message } = Validators.boolean().validate(unsigned);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to DecimalColumn.unsigned: ${message}`);\n        this.options.unsigned = unsigned;\n        return this;\n    }\n    zeroFill(zeroFill = true) {\n        const { valid, message } = Validators.boolean().validate(zeroFill);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to DecimalColumn.zeroFill: ${message}`);\n        this.options.zeroFill = zeroFill;\n        return this;\n    }\n    index() {\n        this.options.index = true;\n        return this;\n    }\n    dropIndex() {\n        this.options.dropIndex = true;\n        return this;\n    }\n    after(columnName) {\n        const { valid, message } = this.validateColumnName(columnName);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to DecimalColumn.after: ${message}`);\n        this.options.after = columnName;\n        return this;\n    }\n    getColumnDefinition() {\n        if (!this.columnDefinition) {\n            this.columnDefinition = ColumnDefinition.create(this.name, `${ColumnTypeEnum.DECIMAL}(${this.precision}, ${this.scale})`);\n        }\n        return this.columnDefinition\n            .nullable(this.options.nullable)\n            .default(typeof this.options.default === \"number\"\n            ? this.options.default.toFixed(this.scale)\n            : undefined)\n            .dropDefault(this.options.dropDefault)\n            .unsigned(this.options.unsigned)\n            .zeroFill(this.options.zeroFill)\n            .after(this.options.after);\n    }\n    getIndexDefinition() {\n        if (\n        // No index and column doesn't exist yet\n        (!this.options.index && !this.exists())\n            // Not adding or dropping an index\n            || (!this.options.index && !this.options.dropIndex)) {\n            return null;\n        }\n        return IndexDefinition\n            .create()\n            .columns(this.name)\n            .drop(this.options.dropIndex === true);\n    }\n}\n","import { AbstractColumn } from \"../AbstractColumn\";\nimport { Validators } from \"@electra/utility\";\nimport { ColumnDefinition } from \"../../Definition/ColumnDefinition\";\nimport { IndexDefinition } from \"../../Definition/IndexDefinition\";\nimport { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nexport class StringColumn extends AbstractColumn {\n    constructor(name, length = 255) {\n        super(name);\n        this.options = {};\n        this.type = ColumnTypeEnum.VARCHAR;\n        this.length = length;\n        const { valid, message } = Validators.integer().validate(length);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to StringColumn.constructor: ${message}`);\n    }\n    nullable(nullable = true) {\n        const { valid, message } = Validators.boolean().validate(nullable);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to StringColumn.nullable: ${message}`);\n        this.options.nullable = nullable;\n        return this;\n    }\n    primaryKey(primaryKey = true) {\n        const { valid, message } = Validators.boolean().validate(primaryKey);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to StringColumn.primaryKey: ${message}`);\n        this.options.primaryKey = primaryKey;\n        return this;\n    }\n    default(value) {\n        const { valid, message } = Validators.string().validate(value);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to StringColumn.default: ${message}`);\n        this.options.default = value;\n        return this;\n    }\n    dropDefault() {\n        this.options.dropDefault = true;\n        return this;\n    }\n    index() {\n        this.options.index = true;\n        return this;\n    }\n    dropIndex() {\n        this.options.dropIndex = true;\n        return this;\n    }\n    after(columnName) {\n        const { valid, message } = this.validateColumnName(columnName);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to StringColumn.after: ${message}`);\n        this.options.after = columnName;\n        return this;\n    }\n    getColumnDefinition() {\n        if (!this.columnDefinition) {\n            this.columnDefinition = ColumnDefinition.create(this.name, `${this.type}(${this.length})`);\n        }\n        return this.columnDefinition\n            .nullable(this.options.nullable)\n            .primaryKey(this.options.primaryKey)\n            .default(this.options.default ? `'${this.options.default}'` : undefined)\n            .dropDefault(this.options.dropDefault)\n            .after(this.options.after);\n    }\n    getIndexDefinition() {\n        if (\n        // No index and column doesn't exist yet\n        (!this.options.index && !this.exists())\n            // Not adding or dropping an index\n            || (!this.options.index && !this.options.dropIndex)) {\n            return null;\n        }\n        return IndexDefinition\n            .create()\n            .columns(this.name)\n            .drop(this.options.dropIndex === true);\n    }\n}\n","import { Validators } from \"@electra/utility\";\nimport { AbstractColumn } from \"../AbstractColumn\";\nimport { IndexDefinition } from \"../../Definition/IndexDefinition\";\nimport { ColumnDefinition } from \"../../Definition/ColumnDefinition\";\nimport { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nexport class DateColumn extends AbstractColumn {\n    constructor() {\n        super(...arguments);\n        this.options = {};\n    }\n    nullable(nullable = true) {\n        const { valid, message } = Validators.boolean().validate(nullable);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to DateColumn.nullable: ${message}`);\n        this.options.nullable = nullable;\n        return this;\n    }\n    default(value) {\n        const { valid, message } = Validators\n            .regex(/^\\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])$/, \"YYYY-MM-DD\")\n            .validate(value);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to DateColumn.default: ${message}`);\n        this.options.default = value;\n        return this;\n    }\n    dropDefault() {\n        this.options.dropDefault = true;\n        return this;\n    }\n    index() {\n        this.options.index = true;\n        return this;\n    }\n    dropIndex() {\n        this.options.dropIndex = true;\n        return this;\n    }\n    after(columnName) {\n        const { valid, message } = this.validateColumnName(columnName);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to DateColumn.after: ${message}`);\n        this.options.after = columnName;\n        return this;\n    }\n    getColumnDefinition() {\n        if (!this.columnDefinition) {\n            this.columnDefinition = ColumnDefinition.create(this.name, ColumnTypeEnum.DATE);\n        }\n        return this.columnDefinition\n            .nullable(this.options.nullable)\n            .default(this.options.default ? `'${this.options.default}'` : undefined)\n            .dropDefault(this.options.dropDefault)\n            .after(this.options.after);\n    }\n    getIndexDefinition() {\n        if (\n        // No index and column doesn't exist yet\n        (!this.options.index && !this.exists())\n            // Not adding or dropping an index\n            || (!this.options.index && !this.options.dropIndex)) {\n            return null;\n        }\n        return IndexDefinition\n            .create()\n            .columns(this.name)\n            .drop(this.options.dropIndex === true);\n    }\n}\n","import { AbstractColumn } from \"../AbstractColumn\";\nimport { Validators } from \"@electra/utility\";\nimport { ColumnDefinition } from \"../../Definition/ColumnDefinition\";\nimport { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nexport class TimeColumn extends AbstractColumn {\n    constructor() {\n        super(...arguments);\n        this.options = {};\n    }\n    nullable(nullable = true) {\n        const { valid, message } = Validators.boolean().validate(nullable);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to TimeColumn.nullable: ${message}`);\n        this.options.nullable = nullable;\n        return this;\n    }\n    default(value) {\n        const { valid, message } = Validators\n            .regex(/^([01]\\d|2[0-3]):([0-5]\\d):([0-5]\\d)$/, \"HH:MM:SS\", { optional: true })\n            .validate(value);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to TimeColumn.default: ${message}`);\n        this.options.default = value;\n        return this;\n    }\n    dropDefault() {\n        this.options.dropDefault = true;\n        return this;\n    }\n    after(columnName) {\n        const { valid, message } = this.validateColumnName(columnName);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to TimeColumn.after: ${message}`);\n        this.options.after = columnName;\n        return this;\n    }\n    getColumnDefinition() {\n        if (!this.columnDefinition) {\n            this.columnDefinition = ColumnDefinition.create(this.name, ColumnTypeEnum.TIME);\n        }\n        return this.columnDefinition\n            .nullable(this.options.nullable)\n            .default(this.options.default ? `'${this.options.default}'` : undefined)\n            .dropDefault(this.options.dropDefault)\n            .after(this.options.after);\n    }\n}\n","import { AbstractColumn } from \"../AbstractColumn\";\nimport { Validators } from \"@electra/utility\";\nimport { ColumnDefinition } from \"../../Definition/ColumnDefinition\";\nimport { IndexDefinition } from \"../../Definition/IndexDefinition\";\nimport { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nexport class DateTimeColumn extends AbstractColumn {\n    constructor() {\n        super(...arguments);\n        this.options = {};\n    }\n    nullable(nullable = true) {\n        const { valid, message } = Validators.boolean().validate(nullable);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to DateTimeColumn.nullable: ${message}`);\n        this.options.nullable = nullable;\n        return this;\n    }\n    default(value) {\n        const { valid, message } = Validators\n            .regex(/^\\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]) ([01]\\d|2[0-3]):([0-5]\\d):([0-5]\\d)$/, \"YYYY-MM-DD HH:MM:SS\")\n            .validate(value);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to DateTimeColumn.default: ${message}`);\n        this.options.default = value;\n        return this;\n    }\n    dropDefault() {\n        this.options.dropDefault = true;\n        return this;\n    }\n    index() {\n        this.options.index = true;\n        return this;\n    }\n    dropIndex() {\n        this.options.dropIndex = true;\n        return this;\n    }\n    after(columnName) {\n        const { valid, message } = this.validateColumnName(columnName);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to DateTimeColumn.after: ${message}`);\n        this.options.after = columnName;\n        return this;\n    }\n    getColumnDefinition() {\n        if (!this.columnDefinition) {\n            this.columnDefinition = ColumnDefinition.create(this.name, ColumnTypeEnum.DATETIME);\n        }\n        return this.columnDefinition\n            .nullable(this.options.nullable)\n            .default(this.options.default ? `'${this.options.default}'` : undefined)\n            .dropDefault(this.options.dropDefault)\n            .after(this.options.after);\n    }\n    getIndexDefinition() {\n        if (\n        // No index and column doesn't exist yet\n        (!this.options.index && !this.exists())\n            // Not adding or dropping an index\n            || (!this.options.index && !this.options.dropIndex)) {\n            return null;\n        }\n        return IndexDefinition\n            .create()\n            .columns(this.name)\n            .drop(this.options.dropIndex === true);\n    }\n}\n","import { Validators } from \"@electra/utility\";\nimport { AbstractColumn } from \"../AbstractColumn\";\nimport { ColumnDefinition } from \"../../Definition/ColumnDefinition\";\nimport { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nexport class BlobColumn extends AbstractColumn {\n    constructor() {\n        super(...arguments);\n        this.options = {};\n        this.type = ColumnTypeEnum.BLOB;\n    }\n    nullable(nullable = true) {\n        const { valid, message } = Validators.boolean().validate(nullable);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to BlobColumn.nullable: ${message}`);\n        this.options.nullable = nullable;\n        return this;\n    }\n    after(columnName) {\n        const { valid, message } = this.validateColumnName(columnName);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to BlobColumn.after: ${message}`);\n        this.options.after = columnName;\n        return this;\n    }\n    getColumnDefinition() {\n        if (!this.columnDefinition) {\n            this.columnDefinition = ColumnDefinition.create(this.name, this.type);\n        }\n        return this.columnDefinition\n            .nullable(this.options.nullable)\n            .after(this.options.after);\n    }\n}\n","import { AbstractColumn } from \"../AbstractColumn\";\nimport { Validators } from \"@electra/utility\";\nimport { ColumnDefinition } from \"../../Definition/ColumnDefinition\";\nimport { IndexDefinition } from \"../../Definition/IndexDefinition\";\nimport { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nexport class EnumColumn extends AbstractColumn {\n    constructor(name, values) {\n        super(name);\n        this.options = {};\n        this.values = values;\n        const { valid, message } = Validators\n            .all([\n            Validators.array(Validators.all([Validators.string(), Validators.minLength(1)])),\n            Validators.minLength(1)\n        ])\n            .validate(this.values);\n        if (!valid)\n            throw new TypeError(`Invalid ${this.constructor.name} values. ${message}`);\n    }\n    nullable(nullable = true) {\n        const { valid, message } = Validators.boolean().validate(nullable);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to EnumColumn.nullable: ${message}`);\n        this.options.nullable = nullable;\n        return this;\n    }\n    default(value) {\n        const { valid, message } = Validators.string().validate(value);\n        const valuesEnum = {};\n        for (const value of this.values)\n            valuesEnum[value] = value;\n        const { valid: enumValueValid, message: enumValueMessage } = Validators.enumValue(valuesEnum).validate(value);\n        if (valid === false || enumValueValid === false)\n            throw new TypeError(`Invalid value passed to EnumColumn.default: ${message || enumValueMessage}`);\n        this.options.default = value;\n        return this;\n    }\n    dropDefault() {\n        this.options.dropDefault = true;\n        return this;\n    }\n    index() {\n        this.options.index = true;\n        return this;\n    }\n    dropIndex() {\n        this.options.dropIndex = true;\n        return this;\n    }\n    after(columnName) {\n        const { valid, message } = this.validateColumnName(columnName);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to EnumColumn.after: ${message}`);\n        this.options.after = columnName;\n        return this;\n    }\n    getColumnDefinition() {\n        if (!this.columnDefinition) {\n            this.columnDefinition = ColumnDefinition.create(this.name, `${ColumnTypeEnum.ENUM}('${this.values.join(\"', '\")}')`);\n        }\n        return this.columnDefinition\n            .nullable(this.options.nullable)\n            .default(this.options.default ? `'${this.options.default}'` : undefined)\n            .dropDefault(this.options.dropDefault)\n            .after(this.options.after);\n    }\n    getIndexDefinition() {\n        if (\n        // No index and column doesn't exist yet\n        (!this.options.index && !this.exists())\n            // Not adding or dropping an index\n            || (!this.options.index && !this.options.dropIndex)) {\n            return null;\n        }\n        return IndexDefinition\n            .create()\n            .columns(this.name)\n            .drop(this.options.dropIndex === true);\n    }\n}\n","import { AbstractColumn } from \"../AbstractColumn\";\nimport { Validators } from \"@electra/utility\";\nimport { ColumnDefinition } from \"../../Definition/ColumnDefinition\";\nimport { IndexDefinition } from \"../../Definition/IndexDefinition\";\nimport { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nexport class DoubleColumn extends AbstractColumn {\n    constructor(name, precision, scale) {\n        super(name);\n        this.options = {};\n        this.precision = precision;\n        this.scale = scale;\n        const validator = Validators.integer({ optional: true });\n        const { valid: precisionValid, message: precisionMessage } = validator.validate(precision);\n        if (precisionValid === false) {\n            throw new TypeError(`Invalid precision value passed to DoubleColumn.constructor: ${precisionMessage}`);\n        }\n        const { valid: scaleValid, message: scaleMessage } = validator.validate(scale);\n        if (scaleValid === false) {\n            throw new TypeError(`Invalid scale value passed to DoubleColumn.constructor: ${scaleMessage}`);\n        }\n        if ((this.precision != null || this.scale != null)\n            && (this.precision == null || this.scale == null)) {\n            throw new Error(`Precision and scale must be both defined or both undefined in column ${this.name}`);\n        }\n    }\n    nullable(nullable = true) {\n        const { valid, message } = Validators.boolean().validate(nullable);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to DoubleColumn.nullable: ${message}`);\n        this.options.nullable = nullable;\n        return this;\n    }\n    default(value) {\n        const { valid, message } = Validators.number().validate(value);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to DoubleColumn.default: ${message}`);\n        this.options.default = value;\n        return this;\n    }\n    dropDefault() {\n        this.options.dropDefault = true;\n        return this;\n    }\n    zeroFill(zeroFill = true) {\n        const { valid, message } = Validators.boolean().validate(zeroFill);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to DoubleColumn.zeroFill: ${message}`);\n        this.options.zeroFill = zeroFill;\n        return this;\n    }\n    index() {\n        this.options.index = true;\n        return this;\n    }\n    dropIndex() {\n        this.options.dropIndex = true;\n        return this;\n    }\n    after(columnName) {\n        const { valid, message } = this.validateColumnName(columnName);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to DoubleColumn.after: ${message}`);\n        this.options.after = columnName;\n        return this;\n    }\n    getColumnDefinition() {\n        if (!this.columnDefinition) {\n            const type = this.precision != null && this.scale != null\n                ? `${ColumnTypeEnum.DOUBLE}(${this.precision}, ${this.scale})`\n                : ColumnTypeEnum.DOUBLE;\n            this.columnDefinition = ColumnDefinition\n                .create(this.name, type);\n        }\n        return this.columnDefinition\n            .nullable(this.options.nullable)\n            .default(typeof this.options.default === \"number\"\n            ? this.options.default.toFixed(this.scale)\n            : undefined)\n            .dropDefault(this.options.dropDefault)\n            .zeroFill(this.options.zeroFill)\n            .after(this.options.after);\n    }\n    getIndexDefinition() {\n        if (\n        // No index and column doesn't exist yet\n        (!this.options.index && !this.exists())\n            // Not adding or dropping an index\n            || (!this.options.index && !this.options.dropIndex)) {\n            return null;\n        }\n        return IndexDefinition\n            .create()\n            .columns(this.name)\n            .drop(this.options.dropIndex === true);\n    }\n}\n","export class RenameColumnModification {\n    constructor(currentName, newName) {\n        this.currentName = currentName;\n        this.newName = newName;\n    }\n    getModificationDefinition() {\n        return `RENAME COLUMN \\`${this.currentName}\\` TO \\`${this.newName}\\``;\n    }\n}\n","export class DropColumnModification {\n    constructor(name) {\n        this.name = name;\n    }\n    getModificationDefinition() {\n        return `DROP COLUMN \\`${this.name}\\``;\n    }\n}\n","export class AddIndexModification {\n    constructor(definition) {\n        this.definition = definition;\n    }\n    getModificationDefinition() {\n        return `ADD ${this.definition.get()}`;\n    }\n}\n","export class DropIndexModification {\n    constructor(name) {\n        this.name = name;\n    }\n    getModificationDefinition() {\n        return `DROP INDEX \\`${this.name}\\``;\n    }\n}\n","export class DropTableModification {\n    constructor(name) {\n        this.name = name;\n    }\n    getModificationDefinition() {\n        return `DROP TABLE IF EXISTS \\`${this.name}\\``;\n    }\n}\n","import { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nimport { BlobColumn } from \"./BlobColumn\";\nexport class TinyBlobColumn extends BlobColumn {\n    constructor() {\n        super(...arguments);\n        this.type = ColumnTypeEnum.TINYBLOB;\n    }\n}\n","import { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nimport { BlobColumn } from \"./BlobColumn\";\nexport class MediumBlobColumn extends BlobColumn {\n    constructor() {\n        super(...arguments);\n        this.type = ColumnTypeEnum.MEDIUMBLOB;\n    }\n}\n","import { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nimport { BlobColumn } from \"./BlobColumn\";\nexport class LongBlobColumn extends BlobColumn {\n    constructor() {\n        super(...arguments);\n        this.type = ColumnTypeEnum.LONGBLOB;\n    }\n}\n","import { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nimport { IntColumn } from \"./IntColumn\";\nexport class SmallIntColumn extends IntColumn {\n    constructor() {\n        super(...arguments);\n        this.type = ColumnTypeEnum.SMALLINT;\n    }\n}\n","import { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nimport { IntColumn } from \"./IntColumn\";\nexport class TinyIntColumn extends IntColumn {\n    constructor() {\n        super(...arguments);\n        this.type = ColumnTypeEnum.TINYINT;\n    }\n}\n","import { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nimport { IntColumn } from \"./IntColumn\";\nexport class MediumIntColumn extends IntColumn {\n    constructor() {\n        super(...arguments);\n        this.type = ColumnTypeEnum.MEDIUMINT;\n    }\n}\n","import { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nimport { IntColumn } from \"./IntColumn\";\nexport class BigIntColumn extends IntColumn {\n    constructor() {\n        super(...arguments);\n        this.type = ColumnTypeEnum.BIGINT;\n    }\n}\n","import { AbstractColumn } from \"../AbstractColumn\";\nimport { Validators } from \"@electra/utility\";\nimport { ColumnDefinition } from \"../../Definition/ColumnDefinition\";\nimport { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nexport class TextColumn extends AbstractColumn {\n    constructor() {\n        super(...arguments);\n        this.options = {};\n        this.type = ColumnTypeEnum.TEXT;\n    }\n    nullable(nullable = true) {\n        const { valid, message } = Validators.boolean().validate(nullable);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to TextColumn.nullable: ${message}`);\n        this.options.nullable = nullable;\n        return this;\n    }\n    after(columnName) {\n        const { valid, message } = this.validateColumnName(columnName);\n        if (valid === false)\n            throw new TypeError(`Invalid value passed to TextColumn.after: ${message}`);\n        this.options.after = columnName;\n        return this;\n    }\n    getColumnDefinition() {\n        if (!this.columnDefinition) {\n            this.columnDefinition = ColumnDefinition.create(this.name, this.type);\n        }\n        return this.columnDefinition\n            .nullable(this.options.nullable)\n            .after(this.options.after);\n    }\n}\n","import { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nimport { TextColumn } from \"./TextColumn\";\nexport class TinyTextColumn extends TextColumn {\n    constructor() {\n        super(...arguments);\n        this.type = ColumnTypeEnum.TINYTEXT;\n    }\n}\n","import { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nimport { TextColumn } from \"./TextColumn\";\nexport class MediumTextColumn extends TextColumn {\n    constructor() {\n        super(...arguments);\n        this.type = ColumnTypeEnum.MEDIUMTEXT;\n    }\n}\n","import { ColumnTypeEnum } from \"../ColumnTypeEnum\";\nimport { TextColumn } from \"./TextColumn\";\nexport class LongTextColumn extends TextColumn {\n    constructor() {\n        super(...arguments);\n        this.type = ColumnTypeEnum.LONGTEXT;\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { IntColumn } from \"../Column/Int/IntColumn\";\nimport { DecimalColumn } from \"../Column/Decimal/DecimalColumn\";\nimport { StringColumn } from \"../Column/String/StringColumn\";\nimport { DateColumn } from \"../Column/Date/DateColumn\";\nimport { TimeColumn } from \"../Column/Time/TimeColumn\";\nimport { DateTimeColumn } from \"../Column/DateTime/DateTimeColumn\";\nimport { BlobColumn } from \"../Column/Blob/BlobColumn\";\nimport { EnumColumn } from \"../Column/Enum/EnumColumn\";\nimport { DoubleColumn } from \"../Column/Double/DoubleColumn\";\nimport { TableEncodingEnum } from \"./Enum/TableEncodingEnum\";\nimport { TableCollationEnum } from \"./Enum/TableCollationEnum\";\nimport { RenameColumnModification } from \"../Modification/RenameColumn/RenameColumnModification\";\nimport { DropColumnModification } from \"../Modification/DropColumn/DropColumnModification\";\nimport { IndexDefinition } from \"../Definition/IndexDefinition\";\nimport { AddIndexModification } from \"../Modification/AddIndex/AddIndexModification\";\nimport { DropIndexModification } from \"../Modification/DropIndex/DropIndexModification\";\nimport { DropTableModification } from \"../Modification/DropTable/DropTableModification\";\nimport { TinyBlobColumn } from \"../Column/Blob/TinyBlobColumn\";\nimport { MediumBlobColumn } from \"../Column/Blob/MediumBlobColumn\";\nimport { LongBlobColumn } from \"../Column/Blob/LongBlobColumn\";\nimport { SmallIntColumn } from \"../Column/Int/SmallIntColumn\";\nimport { TinyIntColumn } from \"../Column/Int/TinyIntColumn\";\nimport { MediumIntColumn } from \"../Column/Int/MediumIntColumn\";\nimport { BigIntColumn } from \"../Column/Int/BigIntColumn\";\nimport { TextColumn } from \"../Column/Text/TextColumn\";\nimport { TinyTextColumn } from \"../Column/Text/TinyTextColumn\";\nimport { MediumTextColumn } from \"../Column/Text/MediumTextColumn\";\nimport { LongTextColumn } from \"../Column/Text/LongTextColumn\";\nexport class Table {\n    constructor(name, connection, operations, tableExists, options) {\n        this.columns = [];\n        this.alterModifications = [];\n        this.standaloneModifications = [];\n        this.name = name;\n        this.connection = connection;\n        this.tableExists = tableExists;\n        const tableOptions = Object.assign({}, {\n            encoding: TableEncodingEnum.UTF8MB4,\n            collation: TableCollationEnum.UTF8MB4_GENERAL_CI\n        }, options);\n        operations.push(() => __awaiter(this, void 0, void 0, function* () {\n            if (this.columns.length === 0\n                && this.alterModifications.length === 0\n                && this.standaloneModifications.length === 0)\n                return;\n            const { columnsToAdd, columnsToModify } = this\n                .columns\n                .reduce((acc, column) => {\n                column.exists() ? acc.columnsToModify.push(column) : acc.columnsToAdd.push(column);\n                return acc;\n            }, { columnsToAdd: [], columnsToModify: [] });\n            yield Promise.all(columnsToModify.map((column) => {\n                return column.getColumnDefinition().hydrateExistingOptions(this.connection, column.getName(), this.name);\n            }));\n            // Create query\n            if (!this.tableExists && columnsToAdd.length > 0) {\n                const createQuery = this.getCreateTableQuery(columnsToAdd, tableOptions);\n                if (createQuery) {\n                    // Create the table\n                    yield this.connection.query(createQuery);\n                    // Set the table exists flag\n                    this.tableExists = true;\n                    // Clear the column additions\n                    columnsToAdd.splice(0, columnsToAdd.length);\n                }\n            }\n            // Alter query\n            if (columnsToAdd.length > 0 || columnsToModify.length > 0 || this.alterModifications.length > 0) {\n                const alterQuery = this.getAlterTableQuery(columnsToAdd, columnsToModify, this.alterModifications);\n                if (alterQuery) {\n                    yield this.connection.query(alterQuery);\n                }\n            }\n            if (this.standaloneModifications.length > 0) {\n                const alterQuery = this.standaloneModifications.map(mod => mod.getModificationDefinition()).join(\"; \");\n                yield this.connection.query(`${alterQuery};`);\n            }\n        }));\n    }\n    id(name = \"id\") {\n        const column = (new IntColumn(name))\n            .unsigned()\n            .autoIncrement()\n            .primaryKey();\n        this.columns.push(column);\n        return column;\n    }\n    int(name) {\n        const column = new IntColumn(name);\n        this.columns.push(column);\n        return column;\n    }\n    tinyint(name) {\n        const column = new TinyIntColumn(name);\n        this.columns.push(column);\n        return column;\n    }\n    smallint(name) {\n        const column = new SmallIntColumn(name);\n        this.columns.push(column);\n        return column;\n    }\n    mediumint(name) {\n        const column = new MediumIntColumn(name);\n        this.columns.push(column);\n        return column;\n    }\n    bigint(name) {\n        const column = new BigIntColumn(name);\n        this.columns.push(column);\n        return column;\n    }\n    decimal(name, precision = 8, scale = 2) {\n        const column = new DecimalColumn(name, precision, scale);\n        this.columns.push(column);\n        return column;\n    }\n    double(name, precision, scale) {\n        const column = new DoubleColumn(name, precision, scale);\n        this.columns.push(column);\n        return column;\n    }\n    string(name, length = 255) {\n        const column = new StringColumn(name, length);\n        this.columns.push(column);\n        return column;\n    }\n    text(name) {\n        const column = new TextColumn(name);\n        this.columns.push(column);\n        return column;\n    }\n    tinytext(name) {\n        const column = new TinyTextColumn(name);\n        this.columns.push(column);\n        return column;\n    }\n    mediumtext(name) {\n        const column = new MediumTextColumn(name);\n        this.columns.push(column);\n        return column;\n    }\n    longtext(name) {\n        const column = new LongTextColumn(name);\n        this.columns.push(column);\n        return column;\n    }\n    enum(name, values) {\n        const column = new EnumColumn(name, values);\n        this.columns.push(column);\n        return column;\n    }\n    date(name) {\n        const column = new DateColumn(name);\n        this.columns.push(column);\n        return column;\n    }\n    time(name) {\n        const column = new TimeColumn(name);\n        this.columns.push(column);\n        return column;\n    }\n    datetime(name) {\n        const column = new DateTimeColumn(name);\n        this.columns.push(column);\n        return column;\n    }\n    blob(name) {\n        const column = new BlobColumn(name);\n        this.columns.push(column);\n        return column;\n    }\n    tinyblob(name) {\n        const column = new TinyBlobColumn(name);\n        this.columns.push(column);\n        return column;\n    }\n    mediumblob(name) {\n        const column = new MediumBlobColumn(name);\n        this.columns.push(column);\n        return column;\n    }\n    longblob(name) {\n        const column = new LongBlobColumn(name);\n        this.columns.push(column);\n        return column;\n    }\n    renameColumn(currentName, newName) {\n        this.alterModifications.push(new RenameColumnModification(currentName, newName));\n        return this;\n    }\n    dropColumn(name) {\n        this.alterModifications.push(new DropColumnModification(name));\n        return this;\n    }\n    addIndex(columnNames, name, type) {\n        const indexDefinition = IndexDefinition\n            .create()\n            .defaultName(this.getDefaultIndexName(...columnNames))\n            .columns(...columnNames);\n        if (name)\n            indexDefinition.name(name);\n        if (type)\n            indexDefinition.type(type);\n        this.alterModifications.push(new AddIndexModification(indexDefinition));\n        return this;\n    }\n    dropIndex(...args) {\n        const [first] = args;\n        const name = Array.isArray(first) ? this.getDefaultIndexName(...first) : first;\n        this.alterModifications.push(new DropIndexModification(name));\n        return this;\n    }\n    drop() {\n        this.standaloneModifications.push(new DropTableModification(this.name));\n        return this;\n    }\n    getDefaultIndexName(...columnNames) {\n        const columnNamesString = columnNames.sort().join(\"_\").toLowerCase();\n        return `${this.name.toLowerCase()}_${columnNamesString}_index`;\n    }\n    getCreateTableQuery(columnAdditions, tableOptions) {\n        // Column definitions\n        const columnDefinitions = columnAdditions.map(column => column.getColumnDefinition().get());\n        // Index definitions\n        const indexDefinitions = columnAdditions\n            .map(column => {\n            const definition = column.getIndexDefinition();\n            if (!definition)\n                return null;\n            return definition\n                .defaultName(this.getDefaultIndexName(column.getName()))\n                .get();\n        })\n            .filter(definition => definition != null);\n        // Combined definitions\n        const allDefinitions = [...columnDefinitions, ...indexDefinitions];\n        // Charset and collation\n        let tableOptionsString = \"\";\n        if (tableOptions.encoding)\n            tableOptionsString += ` DEFAULT CHARACTER SET ${tableOptions.encoding}`;\n        if (tableOptions.collation)\n            tableOptionsString += ` DEFAULT COLLATE ${tableOptions.collation}`;\n        // Build full query\n        return `CREATE TABLE \\`${this.name}\\` (${allDefinitions.join(\", \")})${tableOptionsString};`;\n    }\n    getAlterTableQuery(columnAdditions, columnModifications, alterModifications) {\n        // Columns to add\n        const addColumnDefinitions = columnAdditions.map((column) => {\n            return `ADD COLUMN ${column.getColumnDefinition().get()}`;\n        });\n        // Index definitions\n        const indexDefinitions = [...columnAdditions, ...columnModifications]\n            .map((column) => {\n            const definition = column.getIndexDefinition();\n            if (!definition)\n                return null;\n            definition.defaultName(this.getDefaultIndexName(column.getName()));\n            return `${definition.isDrop() ? 'DROP' : 'ADD'} ${definition.get()}`;\n        })\n            .filter((definition) => definition != null);\n        // Modifications\n        const modificationDefinitions = [\n            ...columnModifications.map(mod => `MODIFY COLUMN ${mod.getColumnDefinition().get()}`),\n            ...alterModifications.map(mod => mod.getModificationDefinition())\n        ];\n        const allDefinitions = [...addColumnDefinitions, ...indexDefinitions, ...modificationDefinitions];\n        if (allDefinitions.length === 0)\n            return null;\n        return `ALTER TABLE \\`${this.name}\\` ${allDefinitions.join(\", \")};`;\n    }\n}\n","import { Table } from \"./Table\";\nexport class Database {\n    constructor(connection, operations) {\n        this.connection = connection;\n        this.operations = operations;\n    }\n    create(tableName, options) {\n        return new Table(tableName, this.connection, this.operations, false, options);\n    }\n    table(tableName) {\n        return new Table(tableName, this.connection, this.operations, true);\n    }\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Database } from \"./Database\";\nexport class MySql {\n    constructor(connections) {\n        this.operations = [];\n        this.connections = connections;\n    }\n    database(name, connectionName) {\n        let connection;\n        if (!connectionName) {\n            const connections = this.connections.getAllByDatabaseName(name);\n            if (connections.length === 0)\n                throw new Error(`No connections found for database \"${name}\"`);\n            if (connections.length > 1)\n                throw new Error(`Multiple connections found for database \"${name}\". Connection name must be specified.`);\n            connection = connections[0];\n        }\n        else {\n            connection = this.connections.get(connectionName);\n        }\n        this.operations.push(() => __awaiter(this, void 0, void 0, function* () {\n            yield connection.query(`CREATE DATABASE IF NOT EXISTS ${yield connection.escape(name)};`);\n        }));\n        this.operations.push(() => __awaiter(this, void 0, void 0, function* () {\n            yield connection.query(`USE ${yield connection.escape(name)};`);\n        }));\n        return new Database(connection, this.operations);\n    }\n    executePendingOperations() {\n        return __awaiter(this, void 0, void 0, function* () {\n            while (this.operations.length > 0) {\n                const operation = this.operations.shift();\n                yield operation();\n            }\n        });\n    }\n}\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","AbstractMigration","y","__WEBPACK_EXTERNAL_MODULE__electra_utility_78eadf20__","Validators","x","d","__WEBPACK_EXTERNAL_MODULE_chalk__","Log","red","message","console","log","blue","green","yellow","AbstractColumn","constructor","name","this","columnExists","valid","validateColumnName","TypeError","getIndexDefinition","getName","exists","update","all","string","minLength","regex","validate","validateOptions","options","schema","addNullableStatement","query","nullable","addDefaultStatement","defaultValue","undefined","addIndexStatement","index","columnName","addUnsignedStatement","unsigned","addZeroFillStatement","zeroFill","addAutoIncrementStatement","autoIncrement","addPrimaryKeyStatement","primaryKey","addAfterStatement","addAfter","tableExists","IndexDefinitionTypeEnum","ColumnTypeEnum","IndexDefinition","indexColumns","indexType","INDEX","dropIndex","create","isDrop","drop","defaultName","defaultIndexName","indexName","columns","push","type","length","Error","indexDefinition","UNIQUE","map","column","join","TableEncodingEnum","TableCollationEnum","ColumnDefinition","default","dropDefault","after","existingOptions","value","zerofill","hydrateExistingOptions","connection","table","thisArg","_arguments","generator","result","isNumericColumnType","DECIMAL","DOUBLE","INT","TINYINT","SMALLINT","MEDIUMINT","BIGINT","includes","existingType","COLUMN_TYPE","split","shift","IS_NULLABLE","COLUMN_DEFAULT","EXTRA","COLUMN_KEY","P","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","apply","IntColumn","super","arguments","boolean","integer","getColumnDefinition","columnDefinition","DecimalColumn","precision","scale","validator","precisionValid","precisionMessage","scaleValid","scaleMessage","number","toFixed","StringColumn","VARCHAR","DateColumn","DATE","TimeColumn","optional","TIME","DateTimeColumn","DATETIME","BlobColumn","BLOB","EnumColumn","values","array","valuesEnum","enumValueValid","enumValueMessage","enumValue","ENUM","DoubleColumn","RenameColumnModification","currentName","newName","getModificationDefinition","DropColumnModification","AddIndexModification","DropIndexModification","DropTableModification","TinyBlobColumn","TINYBLOB","MediumBlobColumn","MEDIUMBLOB","LongBlobColumn","LONGBLOB","SmallIntColumn","TinyIntColumn","MediumIntColumn","BigIntColumn","TextColumn","TEXT","TinyTextColumn","TINYTEXT","MediumTextColumn","MEDIUMTEXT","LongTextColumn","LONGTEXT","Table","operations","alterModifications","standaloneModifications","tableOptions","assign","encoding","UTF8MB4","collation","UTF8MB4_GENERAL_CI","columnsToAdd","columnsToModify","reduce","acc","createQuery","getCreateTableQuery","splice","alterQuery","getAlterTableQuery","mod","id","int","tinyint","smallint","mediumint","bigint","decimal","double","text","tinytext","mediumtext","longtext","enum","date","time","datetime","blob","tinyblob","mediumblob","longblob","renameColumn","dropColumn","addIndex","columnNames","getDefaultIndexName","args","first","Array","isArray","columnNamesString","sort","toLowerCase","columnAdditions","allDefinitions","filter","tableOptionsString","columnModifications","Database","tableName","MySql","connections","database","connectionName","getAllByDatabaseName","escape","executePendingOperations","operation"],"sourceRoot":""}